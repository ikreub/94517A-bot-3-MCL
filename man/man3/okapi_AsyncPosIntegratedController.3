.TH "okapi::AsyncPosIntegratedController" 3 "Version 1.0" "94517A bot #3 with DSR" \" -*- nroff -*-
.ad l
.nh
.SH NAME
okapi::AsyncPosIntegratedController
.SH SYNOPSIS
.br
.PP
.PP
\fR#include <asyncPosIntegratedController\&.hpp>\fP
.PP
Inherits \fBokapi::AsyncPositionController< double, double >\fP\&.
.SS "Public Member Functions"

.in +1c
.ti -1c
.RI "\fBAsyncPosIntegratedController\fP (const std::shared_ptr< \fBAbstractMotor\fP > &imotor, const \fBAbstractMotor::GearsetRatioPair\fP &ipair, std::int32_t imaxVelocity, const \fBTimeUtil\fP &itimeUtil, const std::shared_ptr< \fBLogger\fP > &ilogger=\fBLogger::getDefaultLogger\fP())"
.br
.ti -1c
.RI "void \fBsetTarget\fP (double itarget) override"
.br
.ti -1c
.RI "double \fBgetTarget\fP () override"
.br
.ti -1c
.RI "double \fBgetProcessValue\fP () const override"
.br
.ti -1c
.RI "double \fBgetError\fP () const override"
.br
.ti -1c
.RI "bool \fBisSettled\fP () override"
.br
.ti -1c
.RI "void \fBreset\fP () override"
.br
.ti -1c
.RI "void \fBflipDisable\fP () override"
.br
.ti -1c
.RI "void \fBflipDisable\fP (bool iisDisabled) override"
.br
.ti -1c
.RI "bool \fBisDisabled\fP () const override"
.br
.ti -1c
.RI "void \fBwaitUntilSettled\fP () override"
.br
.ti -1c
.RI "void \fBcontrollerSet\fP (double ivalue) override"
.br
.ti -1c
.RI "void \fBtarePosition\fP () override"
.br
.ti -1c
.RI "void \fBsetMaxVelocity\fP (std::int32_t imaxVelocity) override"
.br
.ti -1c
.RI "virtual void \fBstop\fP ()"
.br
.in -1c
.SS "Protected Member Functions"

.in +1c
.ti -1c
.RI "virtual void \fBresumeMovement\fP ()"
.br
.in -1c
.SS "Protected Attributes"

.in +1c
.ti -1c
.RI "std::shared_ptr< \fBLogger\fP > \fBlogger\fP"
.br
.ti -1c
.RI "\fBTimeUtil\fP \fBtimeUtil\fP"
.br
.ti -1c
.RI "std::shared_ptr< \fBAbstractMotor\fP > \fBmotor\fP"
.br
.ti -1c
.RI "\fBAbstractMotor::GearsetRatioPair\fP \fBpair\fP"
.br
.ti -1c
.RI "std::int32_t \fBmaxVelocity\fP"
.br
.ti -1c
.RI "double \fBlastTarget\fP {0}"
.br
.ti -1c
.RI "double \fBoffset\fP {0}"
.br
.ti -1c
.RI "bool \fBcontrollerIsDisabled\fP {false}"
.br
.ti -1c
.RI "bool \fBhasFirstTarget\fP {false}"
.br
.ti -1c
.RI "std::unique_ptr< \fBSettledUtil\fP > \fBsettledUtil\fP"
.br
.in -1c
.SH "Detailed Description"
.PP 
Closed-loop controller that uses the V5 motor's onboard control to move\&. Input units are whatever units the motor is in\&. 
.SH "Constructor & Destructor Documentation"
.PP 
.SS "okapi::AsyncPosIntegratedController::AsyncPosIntegratedController (const std::shared_ptr< \fBAbstractMotor\fP > & imotor, const \fBAbstractMotor::GearsetRatioPair\fP & ipair, std::int32_t imaxVelocity, const \fBTimeUtil\fP & itimeUtil, const std::shared_ptr< \fBLogger\fP > & ilogger = \fR\fBLogger::getDefaultLogger\fP()\fP)"
Closed-loop controller that uses the V5 motor's onboard control to move\&. Input units are whatever units the motor is in\&. Throws a std::invalid_argument exception if the gear ratio is zero\&.

.PP
\fBParameters\fP
.RS 4
\fIimotor\fP The motor to control\&. 
.br
\fIipair\fP The gearset\&. 
.br
\fIimaxVelocity\fP The maximum velocity after gearing\&. 
.br
\fIitimeUtil\fP The \fBTimeUtil\fP\&. 
.br
\fIilogger\fP The logger this instance will log to\&. 
.RE
.PP

.SH "Member Function Documentation"
.PP 
.SS "void okapi::AsyncPosIntegratedController::controllerSet (double ivalue)\fR [override]\fP, \fR [virtual]\fP"
Writes the value of the controller output\&. This method might be automatically called in another thread by the controller\&. The range of input values is expected to be [-1, 1]\&.

.PP
\fBParameters\fP
.RS 4
\fIivalue\fP the controller's output in the range [-1, 1] 
.RE
.PP

.PP
Implements \fBokapi::ControllerOutput< double >\fP\&.
.SS "void okapi::AsyncPosIntegratedController::flipDisable ()\fR [override]\fP, \fR [virtual]\fP"
Changes whether the controller is off or on\&. Turning the controller on after it was off will cause the controller to move to its last set target, unless it was reset in that time\&. 
.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "void okapi::AsyncPosIntegratedController::flipDisable (bool iisDisabled)\fR [override]\fP"
Sets whether the controller is off or on\&. Turning the controller on after it was off will cause the controller to move to its last set target, unless it was reset in that time\&.

.PP
\fBParameters\fP
.RS 4
\fIiisDisabled\fP whether the controller is disabled 
.RE
.PP

.SS "double okapi::AsyncPosIntegratedController::getError () const\fR [override]\fP, \fR [virtual]\fP"
Returns the last error of the controller\&. Does not update when disabled\&. 
.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "double okapi::AsyncPosIntegratedController::getProcessValue () const\fR [override]\fP, \fR [virtual]\fP"

.PP
\fBReturns\fP
.RS 4
The most recent value of the process variable\&. 
.RE
.PP

.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "double okapi::AsyncPosIntegratedController::getTarget ()\fR [override]\fP, \fR [virtual]\fP"
Gets the last set target, or the default target if none was set\&.

.PP
\fBReturns\fP
.RS 4
the last target 
.RE
.PP

.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "bool okapi::AsyncPosIntegratedController::isDisabled () const\fR [override]\fP, \fR [virtual]\fP"
Returns whether the controller is currently disabled\&.

.PP
\fBReturns\fP
.RS 4
whether the controller is currently disabled 
.RE
.PP

.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "bool okapi::AsyncPosIntegratedController::isSettled ()\fR [override]\fP, \fR [virtual]\fP"
Returns whether the controller has settled at the target\&. Determining what settling means is implementation-dependent\&.

.PP
If the controller is disabled, this method must return true\&.

.PP
\fBReturns\fP
.RS 4
whether the controller is settled 
.RE
.PP

.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "void okapi::AsyncPosIntegratedController::reset ()\fR [override]\fP, \fR [virtual]\fP"
Resets the controller's internal state so it is similar to when it was first initialized, while keeping any user-configured information\&. 
.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "virtual void okapi::AsyncPosIntegratedController::resumeMovement ()\fR [protected]\fP, \fR [virtual]\fP"
Resumes moving after the controller is reset\&. Should not cause movement if the controller is turned off, reset, and turned back on\&. 
.SS "void okapi::AsyncPosIntegratedController::setMaxVelocity (std::int32_t imaxVelocity)\fR [override]\fP, \fR [virtual]\fP"
Sets a new maximum velocity in motor RPM [0-600]\&.

.PP
\fBParameters\fP
.RS 4
\fIimaxVelocity\fP The new maximum velocity in motor RPM [0-600]\&. 
.RE
.PP

.PP
Implements \fBokapi::AsyncPositionController< double, double >\fP\&.
.SS "void okapi::AsyncPosIntegratedController::setTarget (double itarget)\fR [override]\fP, \fR [virtual]\fP"
Sets the target for the controller\&. 
.PP
Implements \fBokapi::ClosedLoopController< double, double >\fP\&.
.SS "virtual void okapi::AsyncPosIntegratedController::stop ()\fR [virtual]\fP"
Stops the motor mid-movement\&. Does not change the last set target\&. 
.SS "void okapi::AsyncPosIntegratedController::tarePosition ()\fR [override]\fP, \fR [virtual]\fP"
Sets the "absolute" zero position of the controller to its current position\&. 
.PP
Implements \fBokapi::AsyncPositionController< double, double >\fP\&.
.SS "void okapi::AsyncPosIntegratedController::waitUntilSettled ()\fR [override]\fP, \fR [virtual]\fP"
Blocks the current task until the controller has settled\&. Determining what settling means is implementation-dependent\&. 
.PP
Implements \fBokapi::AsyncController< double, double >\fP\&.

.SH "Author"
.PP 
Generated automatically by Doxygen for 94517A bot #3 with DSR from the source code\&.
