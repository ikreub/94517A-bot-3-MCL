\doxysection{okapi::\+Flywheel\+Simulator Class Reference}
\hypertarget{classokapi_1_1_flywheel_simulator}{}\label{classokapi_1_1_flywheel_simulator}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a8c7b4a6d86c64b3a5ec7e95b82b3486d}{Flywheel\+Simulator}} (double imass=0.\+01, double ilink\+Len=1, double imu\+Static=0.\+1, double imu\+Dynamic=0.\+9, double itimestep=0.\+01)
\item 
double \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a05ea33d225b636b14c7c8aab9ffb7fa8}{step}} ()
\item 
double \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a5da369045882dc962b1aff79eeaf1905}{step}} (double itorque)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a288c47223f4e558c0081c91db1180430}{set\+External\+Torque\+Function}} (std::\+function$<$ double(double angle, double mass, double link\+Length)$>$ itorque\+Func)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a0e26fda9b8d46a12942a7ed5b8a0e399}{set\+Torque}} (double itorque)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a3b7178f2680fa6533e1056db8f6b1656}{set\+Max\+Torque}} (double imax\+Torque)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_ad9decd27371e9058f97a49944f06b4a1}{set\+Angle}} (double iangle)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a0a4b88f87de82603f49e49610fee1eb6}{set\+Mass}} (double imass)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a54ebeed8e7eefd19b0d476a3215b18e7}{set\+Link\+Length}} (double ilink\+Len)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a60d44d13592af17e4490245868e8db5a}{set\+Static\+Friction}} (double imu\+Static)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_abc346f1446a476dc0c3571deabc79581}{set\+Dynamic\+Friction}} (double imu\+Dynamic)
\item 
void \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_aba93a3606887d59536c47b0a1b1c6c6e}{set\+Timestep}} (double itimestep)
\item 
double \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a506f126c88bf66759d2d31844b7f50e6}{get\+Angle}} () const
\item 
double \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a27636d62f018187f5858f2244d2b3f82}{get\+Omega}} () const
\item 
double \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_af7ce5da6fcafa314cb2372d6e6a98e28}{get\+Acceleration}} () const
\item 
double \doxymbox{\hyperlink{classokapi_1_1_flywheel_simulator_a028341fbfce013426a70fe74a7b0b584}{get\+Max\+Torque}} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a757270ebe61873f9a648380704e7565e}\label{classokapi_1_1_flywheel_simulator_a757270ebe61873f9a648380704e7565e} 
virtual double {\bfseries step\+Impl} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_aa26b15b655c310e4d5bd523c22282e17}\label{classokapi_1_1_flywheel_simulator_aa26b15b655c310e4d5bd523c22282e17} 
double {\bfseries input\+Torque} = 0
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a8f3de956054f3f064cb8468bbda467b9}\label{classokapi_1_1_flywheel_simulator_a8f3de956054f3f064cb8468bbda467b9} 
double {\bfseries max\+Torque} = 0.\+5649
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_ab52c0add6fc410b93ce91ff29bf3c85b}\label{classokapi_1_1_flywheel_simulator_ab52c0add6fc410b93ce91ff29bf3c85b} 
double {\bfseries angle} = 0
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_aaf02971fd228412b827a7514c664c078}\label{classokapi_1_1_flywheel_simulator_aaf02971fd228412b827a7514c664c078} 
double {\bfseries omega} = 0
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_ae5fbfc008c5202fa9557087594d99e2b}\label{classokapi_1_1_flywheel_simulator_ae5fbfc008c5202fa9557087594d99e2b} 
double {\bfseries accel} = 0
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a889583a4674ea4e9a611c88a621deb3b}\label{classokapi_1_1_flywheel_simulator_a889583a4674ea4e9a611c88a621deb3b} 
double {\bfseries mass}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a3e1430492589bb052afcf0786a243f60}\label{classokapi_1_1_flywheel_simulator_a3e1430492589bb052afcf0786a243f60} 
double {\bfseries link\+Len}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_aec46d7de7c61b9044e2896d3c0286eb1}\label{classokapi_1_1_flywheel_simulator_aec46d7de7c61b9044e2896d3c0286eb1} 
double {\bfseries mu\+Static}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a6b9c0debb701ee44b3fed2122b16c7c7}\label{classokapi_1_1_flywheel_simulator_a6b9c0debb701ee44b3fed2122b16c7c7} 
double {\bfseries mu\+Dynamic}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_aee4eecf39f0784452187154037a5acd2}\label{classokapi_1_1_flywheel_simulator_aee4eecf39f0784452187154037a5acd2} 
double {\bfseries timestep}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_af430f8063f09f5fae458b79a9119c4ae}\label{classokapi_1_1_flywheel_simulator_af430f8063f09f5fae458b79a9119c4ae} 
double {\bfseries I} = 0
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a84b1705cb4bcc8569e1a5f738ae7c129}\label{classokapi_1_1_flywheel_simulator_a84b1705cb4bcc8569e1a5f738ae7c129} 
std::\+function$<$ double(double, double, double)$>$ {\bfseries torque\+Func}
\item 
\Hypertarget{classokapi_1_1_flywheel_simulator_a3dd7deba7fc63abb081143eec38bfc76}\label{classokapi_1_1_flywheel_simulator_a3dd7deba7fc63abb081143eec38bfc76} 
const double {\bfseries min\+Timestep} = 0.\+000001
\end{DoxyCompactItemize}


\label{doc-constructors}
\Hypertarget{classokapi_1_1_flywheel_simulator_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classokapi_1_1_flywheel_simulator_a8c7b4a6d86c64b3a5ec7e95b82b3486d}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!FlywheelSimulator@{FlywheelSimulator}}
\index{FlywheelSimulator@{FlywheelSimulator}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{FlywheelSimulator()}{FlywheelSimulator()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a8c7b4a6d86c64b3a5ec7e95b82b3486d} 
okapi::\+\+Flywheel\+Simulator::\+\+Flywheel\+Simulator (\begin{DoxyParamCaption}\item[{double}]{imass}{ = {\ttfamily 0.01}, }\item[{double}]{ilink\+Len}{ = {\ttfamily 1}, }\item[{double}]{imu\+Static}{ = {\ttfamily 0.1}, }\item[{double}]{imu\+Dynamic}{ = {\ttfamily 0.9}, }\item[{double}]{itimestep}{ = {\ttfamily 0.01}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

A simulator for an inverted pendulum. The center of mass of the system changes as the link rotates (by default, you can set a new torque function with \doxylink{classokapi_1_1_flywheel_simulator_a288c47223f4e558c0081c91db1180430}{set\+External\+Torque\+Function()}). 

\label{doc-func-members}
\Hypertarget{classokapi_1_1_flywheel_simulator_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classokapi_1_1_flywheel_simulator_af7ce5da6fcafa314cb2372d6e6a98e28}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!getAcceleration@{getAcceleration}}
\index{getAcceleration@{getAcceleration}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{getAcceleration()}{getAcceleration()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_af7ce5da6fcafa314cb2372d6e6a98e28} 
double okapi::\+\+Flywheel\+Simulator::\+get\+Acceleration (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

Returns the current acceleration (angular acceleration in rad /\+ sec\texorpdfstring{$^\wedge$}{\string^}2).

\begin{DoxyReturn}{Returns}
the current acceleration 
\end{DoxyReturn}
\Hypertarget{classokapi_1_1_flywheel_simulator_a506f126c88bf66759d2d31844b7f50e6}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!getAngle@{getAngle}}
\index{getAngle@{getAngle}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{getAngle()}{getAngle()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a506f126c88bf66759d2d31844b7f50e6} 
double okapi::\+\+Flywheel\+Simulator::\+get\+Angle (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

Returns the current angle (angle in rad).

\begin{DoxyReturn}{Returns}
the current angle 
\end{DoxyReturn}
\Hypertarget{classokapi_1_1_flywheel_simulator_a028341fbfce013426a70fe74a7b0b584}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!getMaxTorque@{getMaxTorque}}
\index{getMaxTorque@{getMaxTorque}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{getMaxTorque()}{getMaxTorque()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a028341fbfce013426a70fe74a7b0b584} 
double okapi::\+\+Flywheel\+Simulator::\+get\+Max\+Torque (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

Returns the maximum torque input.

\begin{DoxyReturn}{Returns}
the max torque input 
\end{DoxyReturn}
\Hypertarget{classokapi_1_1_flywheel_simulator_a27636d62f018187f5858f2244d2b3f82}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!getOmega@{getOmega}}
\index{getOmega@{getOmega}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{getOmega()}{getOmega()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a27636d62f018187f5858f2244d2b3f82} 
double okapi::\+\+Flywheel\+Simulator::\+get\+Omega (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const}

Returns the current omgea (angular velocity in rad /\+ sec).

\begin{DoxyReturn}{Returns}
the current omega 
\end{DoxyReturn}
\Hypertarget{classokapi_1_1_flywheel_simulator_ad9decd27371e9058f97a49944f06b4a1}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setAngle@{setAngle}}
\index{setAngle@{setAngle}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setAngle()}{setAngle()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_ad9decd27371e9058f97a49944f06b4a1} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Angle (\begin{DoxyParamCaption}\item[{double}]{iangle}{}\end{DoxyParamCaption})}

Sets the current angle.


\begin{DoxyParams}{Parameters}
{\em iangle} & new angle \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_abc346f1446a476dc0c3571deabc79581}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setDynamicFriction@{setDynamicFriction}}
\index{setDynamicFriction@{setDynamicFriction}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setDynamicFriction()}{setDynamicFriction()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_abc346f1446a476dc0c3571deabc79581} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Dynamic\+Friction (\begin{DoxyParamCaption}\item[{double}]{imu\+Dynamic}{}\end{DoxyParamCaption})}

Sets the dynamic friction (N\texorpdfstring{$\ast$}{*}m).


\begin{DoxyParams}{Parameters}
{\em imu\+Dynamic} & new dynamic friction \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a288c47223f4e558c0081c91db1180430}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setExternalTorqueFunction@{setExternalTorqueFunction}}
\index{setExternalTorqueFunction@{setExternalTorqueFunction}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setExternalTorqueFunction()}{setExternalTorqueFunction()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a288c47223f4e558c0081c91db1180430} 
void okapi::\+\+Flywheel\+Simulator::\+set\+External\+Torque\+Function (\begin{DoxyParamCaption}\item[{std::\+function$<$ double(double angle, double mass, double link\+Length)$>$}]{itorque\+Func}{}\end{DoxyParamCaption})}

Sets the torque function used to calculate the torque due to external forces. This torque gets summed with the input torque.

For example, the default torque function has the torque due to gravity vary as the link swings:\+ \+[]\+(double angle, double mass, double link\+Length) \{ return (link\+Length \texorpdfstring{$\ast$}{*} std::\+cos(angle)) \texorpdfstring{$\ast$}{*} (mass \texorpdfstring{$\ast$}{*} -\/1 \texorpdfstring{$\ast$}{*} gravity); \}


\begin{DoxyParams}{Parameters}
{\em itorque\+Func} & the torque function. The return value is the torque due to external forces \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a54ebeed8e7eefd19b0d476a3215b18e7}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setLinkLength@{setLinkLength}}
\index{setLinkLength@{setLinkLength}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setLinkLength()}{setLinkLength()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a54ebeed8e7eefd19b0d476a3215b18e7} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Link\+Length (\begin{DoxyParamCaption}\item[{double}]{ilink\+Len}{}\end{DoxyParamCaption})}

Sets the link length (m).


\begin{DoxyParams}{Parameters}
{\em ilink\+Len} & new link length \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a0a4b88f87de82603f49e49610fee1eb6}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setMass@{setMass}}
\index{setMass@{setMass}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setMass()}{setMass()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a0a4b88f87de82603f49e49610fee1eb6} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Mass (\begin{DoxyParamCaption}\item[{double}]{imass}{}\end{DoxyParamCaption})}

Sets the mass (kg).


\begin{DoxyParams}{Parameters}
{\em imass} & new mass \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a3b7178f2680fa6533e1056db8f6b1656}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setMaxTorque@{setMaxTorque}}
\index{setMaxTorque@{setMaxTorque}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setMaxTorque()}{setMaxTorque()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a3b7178f2680fa6533e1056db8f6b1656} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Max\+Torque (\begin{DoxyParamCaption}\item[{double}]{imax\+Torque}{}\end{DoxyParamCaption})}

Sets the max torque. The input torque cannot exceed this maximum torque.


\begin{DoxyParams}{Parameters}
{\em imax\+Torque} & new maximum torque \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a60d44d13592af17e4490245868e8db5a}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setStaticFriction@{setStaticFriction}}
\index{setStaticFriction@{setStaticFriction}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setStaticFriction()}{setStaticFriction()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a60d44d13592af17e4490245868e8db5a} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Static\+Friction (\begin{DoxyParamCaption}\item[{double}]{imu\+Static}{}\end{DoxyParamCaption})}

Sets the static friction (N\texorpdfstring{$\ast$}{*}m).


\begin{DoxyParams}{Parameters}
{\em imu\+Static} & new static friction \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_aba93a3606887d59536c47b0a1b1c6c6e}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setTimestep@{setTimestep}}
\index{setTimestep@{setTimestep}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setTimestep()}{setTimestep()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_aba93a3606887d59536c47b0a1b1c6c6e} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Timestep (\begin{DoxyParamCaption}\item[{double}]{itimestep}{}\end{DoxyParamCaption})}

Sets the timestep (sec).


\begin{DoxyParams}{Parameters}
{\em itimestep} & new timestep \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a0e26fda9b8d46a12942a7ed5b8a0e399}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!setTorque@{setTorque}}
\index{setTorque@{setTorque}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{setTorque()}{setTorque()}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a0e26fda9b8d46a12942a7ed5b8a0e399} 
void okapi::\+\+Flywheel\+Simulator::\+set\+Torque (\begin{DoxyParamCaption}\item[{double}]{itorque}{}\end{DoxyParamCaption})}

Sets the input torque. The input will be bounded by the max torque.


\begin{DoxyParams}{Parameters}
{\em itorque} & new input torque \\
\hline
\end{DoxyParams}
\Hypertarget{classokapi_1_1_flywheel_simulator_a05ea33d225b636b14c7c8aab9ffb7fa8}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!step@{step}}
\index{step@{step}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{step()}{step()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a05ea33d225b636b14c7c8aab9ffb7fa8} 
double okapi::\+\+Flywheel\+Simulator::\+step (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Step the simulation by the timestep.

\begin{DoxyReturn}{Returns}
the current angle 
\end{DoxyReturn}
\Hypertarget{classokapi_1_1_flywheel_simulator_a5da369045882dc962b1aff79eeaf1905}\index{okapi::FlywheelSimulator@{okapi::FlywheelSimulator}!step@{step}}
\index{step@{step}!okapi::FlywheelSimulator@{okapi::FlywheelSimulator}}
\doxysubsubsection{\texorpdfstring{step()}{step()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classokapi_1_1_flywheel_simulator_a5da369045882dc962b1aff79eeaf1905} 
double okapi::\+\+Flywheel\+Simulator::\+step (\begin{DoxyParamCaption}\item[{double}]{itorque}{}\end{DoxyParamCaption})}

Step the simulation by the timestep.


\begin{DoxyParams}{Parameters}
{\em itorque} & new input torque \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the current angle 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\+\begin{DoxyCompactItemize}
\item 
include/\+okapi/\+api/\+control/\+util/\+flywheel\+Simulator.\+hpp\end{DoxyCompactItemize}
