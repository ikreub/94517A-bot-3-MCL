\doxysection{rtos.\+hpp}
\hypertarget{rtos_8hpp_source}{}\label{rtos_8hpp_source}\index{include/pros/rtos.hpp@{include/pros/rtos.hpp}}
\doxymbox{\hyperlink{rtos_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#ifndef\ \_PROS\_RTOS\_HPP\_}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#define\ \_PROS\_RTOS\_HPP\_}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{rtos_8h}{pros/rtos.h}}"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#undef\ delay}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <chrono>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{namespace\ }\doxymbox{\hyperlink{namespacepros}{pros}}\ \{}
\DoxyCodeLine{00036\ \textcolor{keyword}{inline}\ \textcolor{keyword}{namespace\ }rtos\ \{}
\DoxyCodeLine{00040\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{group__cpp-rtos_ga251580d4dfcc48d5c9338db198ce199d}{Task}}\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00082\ \ \ \ \ \doxymbox{\hyperlink{group__cpp-rtos_ga251580d4dfcc48d5c9338db198ce199d}{Task}}(\doxymbox{\hyperlink{group__c-rtos_gaece0aa29b1f1538115228d2197239f98}{task\_fn\_t}}\ function,\ \textcolor{keywordtype}{void}*\ parameters\ =\ \textcolor{keyword}{nullptr},\ std::uint32\_t\ prio\ =\ \doxymbox{\hyperlink{group__c-rtos_ga3082a7e8f15691441dba683711bb823f}{TASK\_PRIORITY\_DEFAULT}},}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ std::uint16\_t\ stack\_depth\ =\ \doxymbox{\hyperlink{group__c-rtos_ga9ffb33b9e3714ca949d9f45dde3cbf8f}{TASK\_STACK\_DEPTH\_DEFAULT}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00115\ \ \ \ \ \doxymbox{\hyperlink{group__cpp-rtos_gaf18db4107898425c4d91a43b405aaaaa}{Task}}(\doxymbox{\hyperlink{group__c-rtos_gaece0aa29b1f1538115228d2197239f98}{task\_fn\_t}}\ function,\ \textcolor{keywordtype}{void}*\ parameters,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ F>}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keyword}{static}\ \doxymbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}\ \doxymbox{\hyperlink{group__cpp-rtos_ga117c95e2c94898637928a4a269391d33}{create}}(F\&\&\ function,\ std::uint32\_t\ prio\ =\ \doxymbox{\hyperlink{group__c-rtos_ga3082a7e8f15691441dba683711bb823f}{TASK\_PRIORITY\_DEFAULT}},}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::uint16\_t\ stack\_depth\ =\ \doxymbox{\hyperlink{group__c-rtos_ga9ffb33b9e3714ca949d9f45dde3cbf8f}{TASK\_STACK\_DEPTH\_DEFAULT}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name\ =\ \textcolor{stringliteral}{"{}"{}})\ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_invocable\_r\_v<void,\ F>);}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ pros::c::task\_create(}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keywordtype}{void}*\ parameters)\ \{}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<std::function<void()>>\ ptr\{\textcolor{keyword}{static\_cast<}std::function<\textcolor{keywordtype}{void}()\textcolor{keyword}{>}*>(parameters)\};}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*ptr)();}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ std::function<void()>(std::forward<F>(function)),\ prio,\ stack\_depth,\ name);}
\DoxyCodeLine{00158\ \ \ \ \ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ F>}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keyword}{static}\ \doxymbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}\ \doxymbox{\hyperlink{group__cpp-rtos_ga97b75f1f58ec6eb02f062005c2dad440}{create}}(F\&\&\ function,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name)\ \{}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \doxymbox{\hyperlink{group__cpp-rtos_ga117c95e2c94898637928a4a269391d33}{Task::create}}(std::forward<F>(function),\ \doxymbox{\hyperlink{group__c-rtos_ga3082a7e8f15691441dba683711bb823f}{TASK\_PRIORITY\_DEFAULT}},\ \doxymbox{\hyperlink{group__c-rtos_ga9ffb33b9e3714ca949d9f45dde3cbf8f}{TASK\_STACK\_DEPTH\_DEFAULT}},\ name);}
\DoxyCodeLine{00188\ \ \ \ \ \}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00222\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ F>}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{keyword}{explicit}\ \doxymbox{\hyperlink{group__cpp-rtos_gad997288e0395a23b9ed69d35165b924e}{Task}}(F\&\&\ function,\ std::uint32\_t\ prio\ =\ \doxymbox{\hyperlink{group__c-rtos_ga3082a7e8f15691441dba683711bb823f}{TASK\_PRIORITY\_DEFAULT}},}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::uint16\_t\ stack\_depth\ =\ \doxymbox{\hyperlink{group__c-rtos_ga9ffb33b9e3714ca949d9f45dde3cbf8f}{TASK\_STACK\_DEPTH\_DEFAULT}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name\ =\ \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ :\ \doxymbox{\hyperlink{group__cpp-rtos_ga251580d4dfcc48d5c9338db198ce199d}{Task}}(}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](void*\ parameters)\ \{}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::unique\_ptr<std::function<void()>>\ ptr\{\textcolor{keyword}{static\_cast<}std::function<\textcolor{keywordtype}{void}()\textcolor{keyword}{>}*>(parameters)\};}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (*ptr)();}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{new}\ std::function<void()>(std::forward<F>(function)),\ prio,\ stack\_depth,\ name)\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(std::is\_invocable\_r\_v<void,\ F>);}
\DoxyCodeLine{00232\ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00264\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ F>}
\DoxyCodeLine{00265\ \ \ \ \ \doxymbox{\hyperlink{group__cpp-rtos_ga1403f11ede554c2028cfda305d3418a7}{Task}}(F\&\&\ function,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name)}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ :\ \doxymbox{\hyperlink{group__cpp-rtos_ga251580d4dfcc48d5c9338db198ce199d}{Task}}(std::forward<F>(function),\ \doxymbox{\hyperlink{group__c-rtos_ga3082a7e8f15691441dba683711bb823f}{TASK\_PRIORITY\_DEFAULT}},\ \doxymbox{\hyperlink{group__c-rtos_ga9ffb33b9e3714ca949d9f45dde3cbf8f}{TASK\_STACK\_DEPTH\_DEFAULT}},\ name)\ \{\}}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keyword}{explicit}\ \doxymbox{\hyperlink{group__cpp-rtos_ga4c7b47b13e563ab3f49f85d9caf24d99}{Task}}(\doxymbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}\ task);}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keyword}{static}\ \doxymbox{\hyperlink{group__cpp-rtos_ga251580d4dfcc48d5c9338db198ce199d}{Task}}\ \doxymbox{\hyperlink{group__cpp-rtos_gaa3a0337773b3b11fa9c9e607f0246140}{current}}();}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00329\ \ \ \ \ \doxymbox{\hyperlink{group__cpp-rtos_ga251580d4dfcc48d5c9338db198ce199d}{Task}}\&\ \doxymbox{\hyperlink{group__cpp-rtos_ga59481a4d798df015aa061931d892f8dc}{operator=}}(\doxymbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}\ in);}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00352\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_ga034299a8322d19fa7202aadc7f4e827e}{remove}}();}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00373\ \ \ \ \ std::uint32\_t\ \doxymbox{\hyperlink{group__cpp-rtos_ga18401d97faae498dcf00a013d784c605}{get\_priority}}();}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00399\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_gaf8efaa2f0adf4874afecc033fe3f4668}{set\_priority}}(std::uint32\_t\ prio);}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00420\ \ \ \ \ std::uint32\_t\ \doxymbox{\hyperlink{group__cpp-rtos_ga64689d30b3777118072ca05bb032fdaa}{get\_state}}();}
\DoxyCodeLine{00421\ }
\DoxyCodeLine{00453\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_gaca83d06cca3775f4c91707a94da82d9c}{suspend}}();}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_ga2116e5eb1004b12af047d3092b89d4fb}{resume}}();}
\DoxyCodeLine{00489\ }
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \doxymbox{\hyperlink{group__cpp-rtos_ga0c3453ef310b8cffc4adc5ad9507239e}{get\_name}}();}
\DoxyCodeLine{00509\ }
\DoxyCodeLine{00527\ \ \ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ \doxymbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}()\ \{}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ task;}
\DoxyCodeLine{00529\ \ \ \ \ \}}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00560\ \ \ \ \ std::uint32\_t\ \doxymbox{\hyperlink{group__cpp-rtos_ga847f50063508bef0af280fc5a56de475}{notify}}();}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00587\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_ga2cfc189d879ad4fb1995450b8baf788e}{join}}();}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00643\ \ \ \ \ std::uint32\_t\ \doxymbox{\hyperlink{group__cpp-rtos_ga2fc7b7a27bb136099b5a5a9f2324fd55}{notify\_ext}}(std::uint32\_t\ value,\ \doxymbox{\hyperlink{group__c-rtos_ga42ea99b5e5d38da0b98154609cf6c570}{notify\_action\_e\_t}}\ action,\ std::uint32\_t*\ prev\_value);}
\DoxyCodeLine{00644\ }
\DoxyCodeLine{00680\ \ \ \ \ \textcolor{keyword}{static}\ std::uint32\_t\ \doxymbox{\hyperlink{group__cpp-rtos_gaf2a6c96c69877036a2e6aeb7ad940964}{notify\_take}}(\textcolor{keywordtype}{bool}\ clear\_on\_exit,\ std::uint32\_t\ timeout);}
\DoxyCodeLine{00681\ }
\DoxyCodeLine{00713\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_gafb75db2d4c126776db264939cad78750}{notify\_clear}}();}
\DoxyCodeLine{00714\ }
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_gace8a382144da36c637ecd0a8c7ec6919}{delay}}(\textcolor{keyword}{const}\ std::uint32\_t\ milliseconds);}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00759\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_ga650a4bd57f0f3631a2f22a76fac613f8}{delay\_until}}(std::uint32\_t*\ \textcolor{keyword}{const}\ prev\_time,\ \textcolor{keyword}{const}\ std::uint32\_t\ delta);}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00782\ \ \ \ \ \textcolor{keyword}{static}\ std::uint32\_t\ \doxymbox{\hyperlink{group__cpp-rtos_ga231d7f75a9d3ec869704048d637ff2f6}{get\_count}}();}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00785\ \ \ \ \ \doxymbox{\hyperlink{group__c-rtos_ga1d7e0825b8d8876e8cd8ece3f9115293}{task\_t}}\ task\{\};}
\DoxyCodeLine{00786\ \};}
\DoxyCodeLine{00787\ }
\DoxyCodeLine{00788\ \textcolor{comment}{//\ STL\ Clock\ compliant\ clock}}
\DoxyCodeLine{00789\ \textcolor{keyword}{struct\ }\doxymbox{\hyperlink{structpros_1_1rtos_1_1_clock}{Clock}}\ \{}
\DoxyCodeLine{00790\ \ \ \ \ \textcolor{keyword}{using\ }rep\ =\ std::uint32\_t;}
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{keyword}{using\ }period\ =\ std::milli;}
\DoxyCodeLine{00792\ \ \ \ \ \textcolor{keyword}{using\ }duration\ =\ std::chrono::duration<rep,\ period>;}
\DoxyCodeLine{00793\ \ \ \ \ \textcolor{keyword}{using\ }time\_point\ =\ std::chrono::time\_point<Clock>;}
\DoxyCodeLine{00794\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ is\_steady\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00795\ }
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keyword}{static}\ time\_point\ \doxymbox{\hyperlink{group__cpp-rtos_gaed031ad3684bbcc4769047c85fb252d9}{now}}();}
\DoxyCodeLine{00821\ \};}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\ \{}
\DoxyCodeLine{00824\ \ \ \ \ std::shared\_ptr<std::remove\_pointer\_t<mutex\_t>>\ mutex;}
\DoxyCodeLine{00825\ }
\DoxyCodeLine{00826\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00827\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}();}
\DoxyCodeLine{00828\ }
\DoxyCodeLine{00829\ \ \ \ \ \textcolor{comment}{//\ disable\ copy\ and\ move\ construction\ and\ assignment\ per\ Mutex\ requirements}}
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{comment}{//\ (see\ https://en.cppreference.com/w/cpp/named\_req/Mutex)}}
\DoxyCodeLine{00831\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00832\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}(\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&\ operator=(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00835\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&\ operator=(\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00917\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_ga2ee2059c5e7f672031540b6946f8a3d1}{take}}();}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{01005\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_ga89232567a788505269d0c298a0c124c8}{take}}(std::uint32\_t\ timeout);}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01087\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_ga5263d6f47d61aa1cd2b9307bfa314de4}{give}}();}
\DoxyCodeLine{01088\ }
\DoxyCodeLine{01173\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_ga86528937f4dc772a2aae500108fe073f}{lock}}();}
\DoxyCodeLine{01174\ }
\DoxyCodeLine{01255\ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{group__cpp-rtos_ga147d8d17c803dcb7ff714ef1592e3987}{unlock}}();}
\DoxyCodeLine{01256\ }
\DoxyCodeLine{01281\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_ga213ca710e1b50a2dcdadaf6a92c89186}{try\_lock}}();}
\DoxyCodeLine{01282\ }
\DoxyCodeLine{01310\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ Period>}
\DoxyCodeLine{01311\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_gaf257a32cc3fcfb5b7a9879c6d2608fe2}{try\_lock\_for}}(\textcolor{keyword}{const}\ std::chrono::duration<Rep,\ Period>\&\ rel\_time)\ \{}
\DoxyCodeLine{01312\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \doxymbox{\hyperlink{group__cpp-rtos_ga2ee2059c5e7f672031540b6946f8a3d1}{take}}(std::chrono::duration\_cast<Clock::duration>(rel\_time).count());}
\DoxyCodeLine{01313\ \ \ \ \ \}}
\DoxyCodeLine{01314\ }
\DoxyCodeLine{01345\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Duration>}
\DoxyCodeLine{01346\ \ \ \ \ \textcolor{keywordtype}{bool}\ \doxymbox{\hyperlink{group__cpp-rtos_gaaac7810b03e23556c710f287bf1d8f76}{try\_lock\_until}}(\textcolor{keyword}{const}\ std::chrono::time\_point<Clock,\ Duration>\&\ abs\_time)\ \{}
\DoxyCodeLine{01347\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \doxymbox{\hyperlink{group__cpp-rtos_ga2ee2059c5e7f672031540b6946f8a3d1}{take}}(std::max(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(0),\ (abs\_time\ -\/\ \doxymbox{\hyperlink{group__cpp-rtos_gaed031ad3684bbcc4769047c85fb252d9}{Clock::now}}()).count()));}
\DoxyCodeLine{01348\ \ \ \ \ \}}
\DoxyCodeLine{01350\ \};}
\DoxyCodeLine{01351\ }
\DoxyCodeLine{01352\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Var>}
\DoxyCodeLine{01353\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var}{MutexVar}};}
\DoxyCodeLine{01354\ }
\DoxyCodeLine{01355\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Var>}
\DoxyCodeLine{01356\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_lock}{MutexVarLock}}\ \{}
\DoxyCodeLine{01357\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&\ mutex;}
\DoxyCodeLine{01358\ \ \ \ \ Var\&\ var;}
\DoxyCodeLine{01359\ }
\DoxyCodeLine{01360\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var}{MutexVar}}<Var>;}
\DoxyCodeLine{01361\ }
\DoxyCodeLine{01362\ \ \ \ \ \textcolor{keyword}{constexpr}\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_lock}{MutexVarLock}}(\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\&\ mutex,\ Var\&\ var)\ :\ mutex(mutex),\ var(var)\ \{\}}
\DoxyCodeLine{01363\ }
\DoxyCodeLine{01364\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01368\ \ \ \ \ \textcolor{keyword}{constexpr}\ Var\&\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_lock_aafa620fbbd61460701d6ba0eea814572}{operator*}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ var;}
\DoxyCodeLine{01370\ \ \ \ \ \}}
\DoxyCodeLine{01371\ }
\DoxyCodeLine{01375\ \ \ \ \ \textcolor{keyword}{constexpr}\ Var*\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_lock_a307684e92f605f24aa89ec67ecf5015f}{operator-\/>}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&var;}
\DoxyCodeLine{01377\ \ \ \ \ \}}
\DoxyCodeLine{01378\ }
\DoxyCodeLine{01379\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_lock}{\string~MutexVarLock}}()\ \{}
\DoxyCodeLine{01380\ \ \ \ \ \ \ \ \ mutex.\doxymbox{\hyperlink{group__cpp-rtos_ga147d8d17c803dcb7ff714ef1592e3987}{unlock}}();}
\DoxyCodeLine{01381\ \ \ \ \ \}}
\DoxyCodeLine{01382\ \};}
\DoxyCodeLine{01383\ }
\DoxyCodeLine{01384\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Var>}
\DoxyCodeLine{01385\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var}{MutexVar}}\ \{}
\DoxyCodeLine{01386\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex}{Mutex}}\ mutex;}
\DoxyCodeLine{01387\ \ \ \ \ Var\ var;}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01447\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{01448\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_a09d5926833a938941c8424ddb2739d89}{MutexVar}}(Args\&\&...\ args)\ :\ mutex(),\ var(std::forward<Args>(args)...)\ \{\}}
\DoxyCodeLine{01449\ }
\DoxyCodeLine{01480\ \ \ \ \ std::optional<MutexVarLock<Var>>\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_a0ed0965122a3fc89949645449abc8263}{try\_lock}}(std::uint32\_t\ timeout)\ \{}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mutex.take(timeout))\ \{}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\{mutex,\ var\}\};}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01484\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\};}
\DoxyCodeLine{01485\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01486\ \ \ \ \ \}}
\DoxyCodeLine{01487\ }
\DoxyCodeLine{01519\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Rep,\ \textcolor{keyword}{typename}\ Period>}
\DoxyCodeLine{01520\ \ \ \ \ std::optional<MutexVarLock<Var>>\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_a5727e0b9dcf81160c50133a03434cdec}{try\_lock}}(\textcolor{keyword}{const}\ std::chrono::duration<Rep,\ Period>\&\ rel\_time)\ \{}
\DoxyCodeLine{01521\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_a0ed0965122a3fc89949645449abc8263}{try\_lock}}(std::chrono::duration\_cast<Clock::duration>(rel\_time).count());}
\DoxyCodeLine{01522\ \ \ \ \ \}}
\DoxyCodeLine{01523\ }
\DoxyCodeLine{01545\ \ \ \ \ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_lock}{MutexVarLock<Var>}}\ \doxymbox{\hyperlink{classpros_1_1rtos_1_1_mutex_var_a0979da3232be23e66566a76706a1f4d4}{lock}}()\ \{}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (!mutex.take(\doxymbox{\hyperlink{group__c-rtos_ga9146d5b264ff64b573607d62fc479c3f}{TIMEOUT\_MAX}}))}
\DoxyCodeLine{01547\ \ \ \ \ \ \ \ \ \ \ \ \ ;}
\DoxyCodeLine{01548\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{mutex,\ var\};}
\DoxyCodeLine{01549\ \ \ \ \ \}}
\DoxyCodeLine{01550\ \};}
\DoxyCodeLine{01551\ }
\DoxyCodeLine{01557\ \textcolor{keyword}{using\ }pros::c::millis;}
\DoxyCodeLine{01558\ }
\DoxyCodeLine{01564\ \textcolor{keyword}{using\ }pros::c::micros;}
\DoxyCodeLine{01565\ }
\DoxyCodeLine{01576\ \textcolor{keyword}{using\ }pros::c::delay;}
\DoxyCodeLine{01577\ \}\ \ \textcolor{comment}{//\ namespace\ rtos}}
\DoxyCodeLine{01578\ \}\ \ \textcolor{comment}{//\ namespace\ pros}}
\DoxyCodeLine{01579\ }
\DoxyCodeLine{01580\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ \_PROS\_RTOS\_HPP\_}}

\end{DoxyCode}
