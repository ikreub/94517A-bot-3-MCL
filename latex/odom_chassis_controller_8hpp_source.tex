\doxysection{odom\+Chassis\+Controller.\+hpp}
\hypertarget{odom_chassis_controller_8hpp_source}{}\label{odom_chassis_controller_8hpp_source}\index{include/okapi/api/chassis/controller/odomChassisController.hpp@{include/okapi/api/chassis/controller/odomChassisController.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla\ Public}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *\ License,\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed\ with\ this}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}okapi/api/chassis/controller/chassisController.hpp"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}okapi/api/chassis/model/skidSteerModel.hpp"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}okapi/api/coreProsAPI.hpp"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}okapi/api/odometry/odometry.hpp"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}okapi/api/odometry/point.hpp"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}okapi/api/units/QSpeed.hpp"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}okapi/api/util/abstractRate.hpp"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}okapi/api/util/logging.hpp"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}okapi/api/util/timeUtil.hpp"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <valarray>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{namespace\ }okapi\ \{}
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ :\ \textcolor{keyword}{public}\ \doxymbox{\hyperlink{classokapi_1_1_chassis_controller_a8a4a431cb9da03a1c84e600dc0e31333}{ChassisController}}\ \{}
\DoxyCodeLine{00023\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00040\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}(\doxymbox{\hyperlink{classokapi_1_1_time_util}{TimeUtil}}\ itimeUtil,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<Odometry>\ iodometry,}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StateMode\ \&imode\ =\ StateMode::FRAME\_TRANSFORMATION,}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ QLength\ \&imoveThreshold\ =\ 0\_mm,}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ QAngle\ \&iturnThreshold\ =\ 0\_deg,}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<Logger>\ ilogger\ =\ \doxymbox{\hyperlink{classokapi_1_1_logger_ac9dd2e38a412a692816f150b0ac3f0b4}{Logger::getDefaultLogger}}());}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{\string~OdomChassisController}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00050\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}(\doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ \&\&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00051\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ \&operator=(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ \&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00052\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ \&operator=(\doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ae637214075365e3b1316abacea499175}{OdomChassisController}}\ \&\&other)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}}
\DoxyCodeLine{00063\ \ \ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_abea9bd3860ad9f1acb1cdc1e36869fbf}{driveToPoint}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{structokapi_1_1_point}{Point}}\ \&ipoint,\ \textcolor{keywordtype}{bool}\ ibackwards\ =\ \textcolor{keyword}{false},\ \textcolor{keyword}{const}\ QLength\ \&ioffset\ =\ 0\_mm)\ =\ 0;}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_a4566bc34f36fd107bc868b17942f4245}{turnToPoint}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{structokapi_1_1_point}{Point}}\ \&ipoint)\ =\ 0;}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00077\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ac90298bb9081d95c52800dbf679dd658}{turnToAngle}}(\textcolor{keyword}{const}\ QAngle\ \&iangle)\ =\ 0;}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keyword}{virtual}\ \doxymbox{\hyperlink{structokapi_1_1_odom_state}{OdomState}}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_aa49cf26f5b471127516932417298b3ed}{getState}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_af4fea3e895f70204e33fd2d02e130b8e}{setState}}(\textcolor{keyword}{const}\ \doxymbox{\hyperlink{structokapi_1_1_odom_state}{OdomState}}\ \&istate);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00099\ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_a79152ae9fb43abbb51179f7bd7ce5fde}{setDefaultStateMode}}(\textcolor{keyword}{const}\ StateMode\ \&imode);}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00106\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_a91a8062ffd1bdb6cfe28920df81b6eb5}{setMoveThreshold}}(\textcolor{keyword}{const}\ QLength\ \&imoveThreshold);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00113\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_ad9ba6d4e83fdd8023ea9ea772fe48d86}{setTurnThreshold}}(\textcolor{keyword}{const}\ QAngle\ \&iturnTreshold);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{virtual}\ QLength\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_a61ba4e9437fe534704f972b6973f5bad}{getMoveThreshold}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00123\ \ \ \textcolor{keyword}{virtual}\ QAngle\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_aefe7b758da3b810775ea2f685b13266f}{getTurnThreshold}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00128\ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_a519c7ad1905fbf9132c95e1e14bc973c}{startOdomThread}}();}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00133\ \ \ \doxymbox{\hyperlink{class_crossplatform_thread}{CrossplatformThread}}\ *\doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_a6ab78730e502dc551894e7efdb9f4edf}{getOdomThread}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00138\ \ \ std::shared\_ptr<Odometry>\ \doxymbox{\hyperlink{classokapi_1_1_odom_chassis_controller_aab7163485e61dfd86a9854af53e03a2c}{getOdometry}}();}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00141\ \ \ std::shared\_ptr<Logger>\ logger;}
\DoxyCodeLine{00142\ \ \ \doxymbox{\hyperlink{classokapi_1_1_time_util}{TimeUtil}}\ timeUtil;}
\DoxyCodeLine{00143\ \ \ QLength\ moveThreshold;}
\DoxyCodeLine{00144\ \ \ QAngle\ turnThreshold;}
\DoxyCodeLine{00145\ \ \ std::shared\_ptr<Odometry>\ odom;}
\DoxyCodeLine{00146\ \ \ \doxymbox{\hyperlink{class_crossplatform_thread}{CrossplatformThread}}\ *odomTask\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00147\ \ \ std::atomic\_bool\ dtorCalled\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00148\ \ \ StateMode\ defaultStateMode\{StateMode::FRAME\_TRANSFORMATION\};}
\DoxyCodeLine{00149\ \ \ std::atomic\_bool\ odomTaskRunning\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ trampoline(\textcolor{keywordtype}{void}\ *context);}
\DoxyCodeLine{00152\ \ \ \textcolor{keywordtype}{void}\ loop();}
\DoxyCodeLine{00153\ \};}
\DoxyCodeLine{00154\ \}\ \textcolor{comment}{//\ namespace\ okapi}}

\end{DoxyCode}
